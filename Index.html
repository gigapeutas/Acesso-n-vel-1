<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>ConSySencI.A ‚Äî Ativa√ß√£o N√≠vel 1</title>
  <meta name="description" content="Ative seu sistema: entre como afiliado, cole seu link da p√°gina de vendas e gere 3 textos + configura√ß√£o do Auto Reply."/>
  <style>
    :root{
      --bg0:#050714;
      --bg1:#070B22;
      --card:rgba(255,255,255,.06);
      --stroke:rgba(255,255,255,.12);
      --txt:#EAF0FF;
      --muted:#B7C5FF;
      --cyan:#00E5FF;
      --lime:#7CFF6B;
      --gold:#FFCC00;
      --red:#FF5C5C;
      --shadow: 0 18px 70px rgba(0,0,0,.55);
      --radius: 18px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--txt);
      background:
        radial-gradient(1400px 700px at 12% 10%, rgba(0,229,255,.20), transparent 60%),
        radial-gradient(900px 650px at 86% 22%, rgba(124,255,107,.18), transparent 62%),
        radial-gradient(900px 650px at 50% 92%, rgba(255,204,0,.10), transparent 60%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      min-height:100vh;
      overflow-x:hidden;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* stars */
    .stars:before, .stars:after{
      content:"";
      position:fixed; inset:0;
      pointer-events:none;
      background-image:
        radial-gradient(2px 2px at 12% 18%, rgba(255,255,255,.55), transparent 60%),
        radial-gradient(1px 1px at 40% 68%, rgba(255,255,255,.40), transparent 60%),
        radial-gradient(1px 1px at 80% 30%, rgba(255,255,255,.35), transparent 60%),
        radial-gradient(1px 1px at 70% 80%, rgba(255,255,255,.35), transparent 60%),
        radial-gradient(2px 2px at 88% 62%, rgba(255,255,255,.40), transparent 60%),
        radial-gradient(1px 1px at 18% 82%, rgba(255,255,255,.35), transparent 60%),
        radial-gradient(1px 1px at 55% 22%, rgba(255,255,255,.35), transparent 60%);
      opacity:.35;
      transform: translateZ(0);
    }
    .stars:after{opacity:.20; filter: blur(0.4px)}

    .wrap{
      max-width:1100px;
      margin:0 auto;
      padding: clamp(14px, 3.6vw, 22px);
    }

    /* ‚úÖ RESPONSIVE TOP */
    .top{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      padding:14px 16px;
      border:1px solid var(--stroke);
      border-radius: var(--radius);
      background:rgba(255,255,255,.05);
      backdrop-filter: blur(10px);
      box-shadow: var(--shadow);
    }

    .brand{
      display:flex;
      align-items:center;
      gap:10px;
      font-weight:900;
      letter-spacing:.2px;
      min-width:0;
    }

    .chip{
      font-size:12px;
      font-weight:900;
      padding:8px 12px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.16);
      background:linear-gradient(90deg, rgba(0,229,255,.22), rgba(124,255,107,.16));
      white-space:nowrap;
    }

    @media (max-width: 520px){
      .top{
        flex-direction:column;
        align-items:stretch;
        text-align:center;
        gap:10px;
      }
      .brand{
        flex-direction:column;
        gap:8px;
      }
      .brand span:last-child{
        font-size:14px;
        line-height:1.2;
        opacity:.95;
      }
      .top .chip{
        width:fit-content;
        margin:0 auto;
      }
    }

    .hero{
      margin-top:18px;
      display:grid;
      grid-template-columns:1.1fr .9fr;
      gap:14px;
      align-items:start;
    }
    @media (max-width:960px){
      .hero{grid-template-columns:1fr}
    }

    .card{
      border:1px solid var(--stroke);
      border-radius: var(--radius);
      background:var(--card);
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
    }
    .pad{padding:18px}

    h1{
      margin:0 0 10px;
      font-size: clamp(26px, 5.4vw, 40px);
      line-height:1.05;
      letter-spacing:-0.2px;
    }
    h2{margin:0 0 10px;font-size:18px}
    p{margin:0 0 10px;color:var(--muted);line-height:1.55}
    .k{color:var(--gold);font-weight:900}
    .mini{font-size:12px;color:rgba(234,240,255,.72)}

    .glow{
      position:absolute;inset:-120px;
      background:radial-gradient(circle at 30% 20%, rgba(0,229,255,.18), transparent 40%),
                 radial-gradient(circle at 70% 25%, rgba(124,255,107,.15), transparent 45%),
                 radial-gradient(circle at 50% 80%, rgba(255,204,0,.10), transparent 45%);
      filter: blur(20px);
      opacity:.65;
      pointer-events:none;
    }

    .steps{
      display:grid;
      grid-template-columns:1fr;
      gap:10px;
      margin-top:12px;
    }

    .step{
      border:1px solid rgba(255,255,255,.12);
      background:rgba(0,0,0,.18);
      border-radius:16px;
      padding:14px;
    }

    .step .head{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap; /* ‚úÖ quebra bonito */
    }

    .badge{
      font-size:12px;
      font-weight:900;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(255,255,255,.06);
      color:rgba(234,240,255,.92);
      white-space:nowrap;
      margin-left:auto;
    }

    .step h3{margin:0 0 6px;font-size:14px}
    .step ul{margin:8px 0 0;padding-left:18px;color:var(--muted);line-height:1.55}

    .divider{height:1px;background:rgba(255,255,255,.10);margin:14px 0}

    .input{
      display:flex;
      flex-direction:column;
      gap:10px;
      margin-top:12px
    }
    label{font-size:13px;color:rgba(234,240,255,.85);font-weight:800}

    input{
      width:100%;
      padding:14px 14px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.16);
      background:rgba(0,0,0,.20);
      color:var(--txt);
      outline:none;
      font-size:14px;
    }
    input:focus{
      border-color: rgba(0,229,255,.45);
      box-shadow: 0 0 0 4px rgba(0,229,255,.12);
    }

    .row{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top:12px
    }

    .btn{
      border:1px solid rgba(255,255,255,.18);
      background:rgba(255,255,255,.06);
      color:var(--txt);
      padding:12px 14px;
      border-radius:14px;
      font-weight:900;
      cursor:pointer;
      transition: transform .12s ease, opacity .12s ease, box-shadow .12s ease;
      user-select:none;
      text-decoration:none;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      min-height:44px;
    }
    .btn:hover{transform:translateY(-1px);opacity:.95}
    .btn:disabled{opacity:.55; cursor:not-allowed; transform:none}
    .btn.primary{
      background:linear-gradient(90deg, rgba(0,229,255,.95), rgba(124,255,107,.90));
      color:#061018;
      border-color: rgba(255,255,255,.0);
      box-shadow: 0 14px 30px rgba(0,229,255,.14);
    }
    .btn.gold{
      background:linear-gradient(90deg, rgba(255,204,0,.92), rgba(0,229,255,.55));
      color:#061018;
      border-color: rgba(255,255,255,.0);
    }

    /* ‚úÖ MOBILE: bot√µes em coluna */
    @media (max-width: 520px){
      .row{flex-direction:column}
      .btn{width:100%}
      .pad{padding:16px}
    }

    .ok, .err{
      margin-top:10px;
      padding:12px 12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(0,0,0,.20);
      display:none;
      font-size:13px;
      line-height:1.45;
    }
    .ok{border-color: rgba(124,255,107,.28)}
    .err{border-color: rgba(255,92,92,.28)}

    .grid2{display:grid;grid-template-columns:1fr;gap:12px}
    .box{
      border:1px solid var(--stroke);
      border-radius:16px;
      background:rgba(255,255,255,.04);
      padding:14px;
    }
    .box h3{margin:0 0 8px;font-size:14px}

    .code{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
      font-size:12px;
      background:rgba(0,0,0,.26);
      border:1px solid rgba(255,255,255,.12);
      border-radius:14px;
      padding:12px;
      white-space:pre-wrap;
      overflow:auto;
      max-height:320px;
      word-break:break-word;
    }

    .foot{
      margin-top:14px;
      text-align:center;
      font-size:12px;
      color:rgba(234,240,255,.70);
    }

    /* modal */
    .modal{
      position:fixed; inset:0;
      display:none;
      align-items:center; justify-content:center;
      background:rgba(0,0,0,.55);
      z-index:999;
      padding:18px;
    }
    .modal .panel{
      width:min(520px, 92vw);
      border:1px solid rgba(255,255,255,.14);
      background:rgba(9,12,26,.92);
      border-radius:22px;
      box-shadow: var(--shadow);
      padding:16px;
      position:relative;
      overflow:hidden;
    }
    .modal .panel:before{
      content:"";
      position:absolute; inset:-80px;
      background:radial-gradient(circle at 30% 20%, rgba(0,229,255,.18), transparent 45%),
                 radial-gradient(circle at 70% 30%, rgba(124,255,107,.16), transparent 45%),
                 radial-gradient(circle at 50% 80%, rgba(255,204,0,.12), transparent 45%);
      filter: blur(18px);
      opacity:.9;
      pointer-events:none;
    }
    .modal .content{position:relative}
    .modal h3{margin:0 0 8px; font-size:16px}
    .modal p{margin:0 0 12px; color:rgba(234,240,255,.78)}

    /* toast */
    .toast{
      position:fixed;
      left:50%; bottom:16px;
      transform:translateX(-50%);
      padding:12px 14px;
      background:rgba(9,12,26,.92);
      border:1px solid rgba(255,255,255,.16);
      border-radius:14px;
      box-shadow: var(--shadow);
      display:none;
      z-index:1000;
      max-width:min(720px, 92vw);
      color:rgba(234,240,255,.92);
      font-size:13px;
    }

    /* confetti canvas */
    #confetti{
      position:fixed; inset:0;
      pointer-events:none;
      z-index:998;
      display:none;
    }

    /* small accessibility */
    a{color:inherit}
    .sr{position:absolute;left:-9999px}
  </style>
</head>

<body class="stars">
  <canvas id="confetti"></canvas>

  <div class="wrap">
    <div class="top">
      <div class="brand">
        <span class="chip">N√çVEL 1 ‚Ä¢ ATIVA√á√ÉO</span>
        <span>ConSySencI.A ‚Äî Sistema em Execu√ß√£o</span>
      </div>
      <div class="chip">Fa√ßa em ordem: 1 ‚Üí 2 ‚Üí 3</div>
    </div>

    <div class="hero">
      <!-- LEFT -->
      <div class="card">
        <div class="glow"></div>
        <div class="pad">
          <h1>Ative seu rob√¥ em 3 passos.</h1>
          <p>
            Voc√™ vai entrar como afiliado, copiar seu <span class="k">link da p√°gina de vendas</span> e colar aqui.
            A p√°gina vai gerar <b>3 textos prontos</b> + liberar o <b>Auto Reply</b> com tutorial.
          </p>

          <div class="steps">
            <div class="step" id="s1">
              <div class="head">
                <div>
                  <h3>1) Entrar como afiliado (obrigat√≥rio)</h3>
                  <p class="mini">Clique no bot√£o, entre e confirme sua afilia√ß√£o.</p>
                </div>
                <span class="badge">PASSO 1</span>
              </div>
              <div class="row">
                <a class="btn primary" id="btnAfiliar" href="#" target="_blank" rel="noopener">‚úÖ Entrar como afiliado</a>
                <button class="btn" id="btnMarcar1" type="button">J√° fiz isso</button>
              </div>
              <p class="mini">Depois de entrar como afiliado, v√° para o PASSO 2.</p>
            </div>

            <div class="step" id="s2">
              <div class="head">
                <div>
                  <h3>2) Copiar seu link correto (na Kiwify)</h3>
                  <p class="mini">Dentro do painel do produto (igual sua imagem):</p>
                </div>
                <span class="badge">PASSO 2</span>
              </div>
              <ul>
                <li>Abra o produto e clique em <b>Detalhes</b></li>
                <li>Copie a <b>URL da p√°gina de vendas</b> (√© o seu link de afiliado)</li>
                <li>Volte aqui e cole no campo do <b>PASSO 3</b></li>
              </ul>
            </div>

            <div class="step" id="s3">
              <div class="head">
                <div>
                  <h3>3) Cole seu link e gere seus textos</h3>
                  <p class="mini">Cole a URL da p√°gina de vendas (aquela do ‚ÄúDetalhes‚Äù).</p>
                </div>
                <span class="badge">PASSO 3</span>
              </div>

              <div class="input">
                <label for="aff">Cole aqui sua URL da p√°gina de vendas (afiliado)</label>
                <input id="aff" placeholder="COLE AQUI A URL DA P√ÅGINA DE VENDAS (Kiwify)" autocomplete="off" inputmode="url" />
                <div class="mini">Dica: precisa come√ßar com <b>http</b> ou <b>https</b>.</div>
              </div>

              <div class="row">
                <button class="btn gold" id="btnGerar" type="button">‚ú® GERAR 3 TEXTOS + AUTO REPLY</button>
                <button class="btn" id="btnCopiarTudo" type="button" disabled>üìã COPIAR TUDO</button>
              </div>

              <div class="ok" id="okBox"></div>
              <div class="err" id="errBox"></div>
            </div>
          </div>

          <div class="divider"></div>

          <div class="box">
            <h3>‚úÖ Resultado final (o que voc√™ vai ter)</h3>
            <ul style="margin:0;padding-left:18px;color:var(--muted);line-height:1.55">
              <li>3 textos prontos (com seu link)</li>
              <li>Mensagem pronta pro Auto Reply</li>
              <li>Tutorial simples pra configurar <b>Grupos</b> ou <b>Ambas</b></li>
              <li>Ritmo recomendado: <b>3x por dia</b></li>
            </ul>
          </div>
        </div>
      </div>

      <!-- RIGHT -->
      <div class="grid2">
        <div class="card">
          <div class="pad">
            <h2>üìå Seus textos prontos (gerados aqui)</h2>
            <p class="mini">Cole seu link no PASSO 3 e clique em ‚ÄúGERAR‚Äù.</p>

            <div class="box">
              <h3>Mensagem para Auto Reply (copiar/colar)</h3>
              <div class="code" id="replyBox">Aguardando seu link‚Ä¶</div>
              <div class="row">
                <button class="btn" id="cpyReply" type="button" disabled>Copiar mensagem</button>
              </div>
            </div>

            <div class="box">
              <h3>3 textos para postar (com seu link)</h3>
              <div class="code" id="postsBox">Aguardando seu link‚Ä¶</div>
              <div class="row">
                <button class="btn" id="cpyPosts" type="button" disabled>Copiar 3 textos</button>
              </div>
            </div>
          </div>
        </div>

        <div class="card" id="autoReplyCard">
          <div class="pad">
            <h2>ü§ñ Auto Reply (liberado ap√≥s gerar)</h2>
            <p class="mini">Quando voc√™ gerar os textos, esta √°rea fica ‚Äúativa‚Äù e te guia.</p>

            <div class="box">
              <h3>Link oficial do app</h3>
              <p class="mini" style="margin:0 0 10px">
                Baixe no Google Play:
                <b id="arLinkText"></b>
              </p>
              <div class="row">
                <a class="btn primary" id="btnAutoReply" href="#" target="_blank" rel="noopener">üì• Baixar Auto Reply</a>
                <button class="btn" id="cpyArLink" type="button">Copiar link</button>
              </div>
              <p class="mini" style="margin-top:10px">‚úÖ Use sempre o app oficial (como na sua imagem).</p>
            </div>

            <div class="box">
              <h3>Configura√ß√£o mais f√°cil (igual seu print)</h3>
              <ul style="margin:0;padding-left:18px;color:var(--muted);line-height:1.55">
                <li>Abra o Auto Reply</li>
                <li>Toque no <b>+</b> (bot√£o roxo)</li>
                <li>Em <b>Responder por WA App</b>: escolha <b>Oficial de WA</b></li>
                <li>Em <b>Padr√£o de mensagem recebida</b>:
                  <ul>
                    <li>Mais simples: coloque <b>*</b> e selecione <b>Todas</b></li>
                    <li>Mais seguro: selecione <b>Conter</b> e coloque: <b>oi</b>, <b>info</b> ou <b>link</b></li>
                  </ul>
                </li>
                <li>Em <b>Responder a</b>: escolha <b>Grupos</b> ou <b>Ambas</b></li>
                <li>Defina a resposta usando a mensagem pronta (gerada aqui)</li>
                <li>Salve (‚úÖ) e ative o Auto Reply</li>
              </ul>
            </div>

            <div class="box">
              <h3>3x por dia (ritmo recomendado)</h3>
              <ul style="margin:0;padding-left:18px;color:var(--muted);line-height:1.55">
                <li><b>09:00</b> ‚Äî manh√£</li>
                <li><b>14:00</b> ‚Äî tarde</li>
                <li><b>20:00</b> ‚Äî noite</li>
              </ul>
              <p class="mini" style="margin-top:8px">
                Use os <b>3 textos</b> gerados para postar/rodar no padr√£o que preferir.
              </p>
            </div>

          </div>
        </div>

      </div>
    </div>

    <div class="foot">¬© ConSySencI.A ‚Äî Ativa√ß√£o N√≠vel 1</div>
  </div>

  <!-- Celebration modal -->
  <div class="modal" id="modal">
    <div class="panel">
      <div class="content">
        <h3>üéâ Ativa√ß√£o conclu√≠da!</h3>
        <p>
          Seus textos foram gerados com seu link e o Auto Reply foi liberado.
          Agora √© s√≥ <b>copiar/colar</b> e colocar a m√°quina pra rodar.
        </p>
        <div class="row">
          <button class="btn primary" id="goAutoReply" type="button">Ir para Auto Reply</button>
          <button class="btn" id="closeModal" type="button">Fechar</button>
        </div>
      </div>
    </div>
  </div>

  <div class="toast" id="toast"></div>

<script>
  // ========= LINKS FIXOS (SEU SISTEMA) =========
  const KIWI_AFFILIATE_JOIN = "https://dashboard.kiwify.com/join/affiliate/SowuJ1bL";
  const AUTO_REPLY_PLAYSTORE = "https://play.google.com/store/apps/details?id=com.pransuinc.autoreply";

  // ========= ELEMENTOS =========
  const btnAfiliar = document.getElementById("btnAfiliar");
  const btnAutoReply = document.getElementById("btnAutoReply");
  const arLinkText = document.getElementById("arLinkText");
  const cpyArLink = document.getElementById("cpyArLink");

  const aff = document.getElementById("aff");
  const btnGerar = document.getElementById("btnGerar");
  const btnCopiarTudo = document.getElementById("btnCopiarTudo");
  const cpyReply = document.getElementById("cpyReply");
  const cpyPosts = document.getElementById("cpyPosts");

  const replyBox = document.getElementById("replyBox");
  const postsBox = document.getElementById("postsBox");

  const okBox = document.getElementById("okBox");
  const errBox = document.getElementById("errBox");

  const toastEl = document.getElementById("toast");
  const modal = document.getElementById("modal");
  const closeModal = document.getElementById("closeModal");
  const goAutoReply = document.getElementById("goAutoReply");
  const btnMarcar1 = document.getElementById("btnMarcar1");

  btnAfiliar.href = KIWI_AFFILIATE_JOIN;
  btnAutoReply.href = AUTO_REPLY_PLAYSTORE;
  arLinkText.textContent = AUTO_REPLY_PLAYSTORE;

  // ========= UI HELPERS =========
  function showOk(msg){
    okBox.style.display = "block";
    errBox.style.display = "none";
    okBox.innerHTML = msg;
  }
  function showErr(msg){
    errBox.style.display = "block";
    okBox.style.display = "none";
    errBox.innerHTML = msg;
  }
  function toast(msg){
    toastEl.textContent = msg;
    toastEl.style.display = "block";
    clearTimeout(window.__t);
    window.__t = setTimeout(()=> toastEl.style.display = "none", 2100);
  }

  function isValidUrl(u){
    try{
      const url = new URL(u);
      return url.protocol === "http:" || url.protocol === "https:";
    }catch(e){ return false; }
  }

  async function copyText(text){
    try{
      await navigator.clipboard.writeText(text);
      return true;
    }catch(e){
      const ta = document.createElement("textarea");
      ta.value = text;
      document.body.appendChild(ta);
      ta.select();
      const ok = document.execCommand("copy");
      ta.remove();
      return ok;
    }
  }

  // ========= TEMPLATES =========
  function buildReply(link){
    return `Oi üëã\n\nEu tenho um kit simples pra come√ßar hoje: landing pronta + passo a passo (tudo copiar/colar).\n\n‚úÖ Acesse aqui: ${link}\n\nSe quiser, eu te explico em 30 segundos.`;
  }

  function buildPosts(link){
    return [
`TEXTO 1:\nüß© Kit copiar/colar pra come√ßar hoje (R$10)\nLanding pronta + tutorial + automa√ß√£o simples\nLink: ${link}`,
`TEXTO 2:\nQuem quer come√ßar no online sem aparecer?\n√â s√≥ copiar/colar e divulgar com const√¢ncia.\nLink: ${link}`,
`TEXTO 3:\nN√£o √© curso gigante. √â execu√ß√£o simples.\nP√°gina pronta + passo a passo (R$10).\nLink: ${link}`
    ].join("\n\n---------------------------\n\n");
  }

  // ========= CONFETTI (celebra√ß√£o s√©ria e bonita) =========
  const canvas = document.getElementById("confetti");
  const ctx = canvas.getContext("2d");
  let confettiPieces = [];
  let confettiOn = false;

  function resizeCanvas(){
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  }
  window.addEventListener("resize", resizeCanvas);
  resizeCanvas();

  function spawnConfetti(){
    confettiPieces = [];
    const colors = ["#00E5FF", "#7CFF6B", "#FFCC00", "#EAF0FF"];
    for(let i=0;i<160;i++){
      confettiPieces.push({
        x: Math.random()*canvas.width,
        y: -20 - Math.random()*canvas.height*0.2,
        r: 4 + Math.random()*5,
        vx: -1.5 + Math.random()*3,
        vy: 2 + Math.random()*4.2,
        rot: Math.random()*Math.PI,
        vr: -0.12 + Math.random()*0.24,
        c: colors[Math.floor(Math.random()*colors.length)],
        a: 0.85
      });
    }
  }

  function drawConfetti(){
    if(!confettiOn) return;
    ctx.clearRect(0,0,canvas.width,canvas.height);
    for(const p of confettiPieces){
      ctx.save();
      ctx.globalAlpha = p.a;
      ctx.translate(p.x, p.y);
      ctx.rotate(p.rot);
      ctx.fillStyle = p.c;
      ctx.fillRect(-p.r, -p.r/2, p.r*2.2, p.r);
      ctx.restore();

      p.x += p.vx;
      p.y += p.vy;
      p.rot += p.vr;
      p.vy += 0.03;
      if(p.y > canvas.height + 40) p.a = 0;
    }

    const alive = confettiPieces.some(p => p.a > 0.05);
    if(alive) requestAnimationFrame(drawConfetti);
    else {
      confettiOn = false;
      canvas.style.display = "none";
      ctx.clearRect(0,0,canvas.width,canvas.height);
    }
  }

  function celebrate(){
    resizeCanvas();
    spawnConfetti();
    confettiOn = true;
    canvas.style.display = "block";
    requestAnimationFrame(drawConfetti);
  }

  // ========= A√á√ïES =========
  btnMarcar1.addEventListener("click", ()=>{
    toast("‚úÖ Passo 1 marcado. Agora copie o link em ‚ÄúDetalhes‚Äù (PASSO 2).");
    document.getElementById("s2").scrollIntoView({behavior:"smooth", block:"start"});
  });

  btnGerar.addEventListener("click", ()=>{
    const link = (aff.value || "").trim();

    if(!link){
      showErr("Cole a <b>URL da p√°gina de vendas</b> (no painel ‚Üí Detalhes).");
      return;
    }
    if(!isValidUrl(link)){
      showErr("Esse link parece inv√°lido. Ele precisa come√ßar com <b>http</b> ou <b>https</b>.");
      return;
    }

    const reply = buildReply(link);
    const posts = buildPosts(link);

    replyBox.textContent = reply;
    postsBox.textContent = posts;

    btnCopiarTudo.disabled = false;
    cpyReply.disabled = false;
    cpyPosts.disabled = false;

    showOk("‚úÖ Textos gerados com seu link. Agora copie e configure o Auto Reply (logo abaixo).");
    toast("üéâ Gerado! Seus textos est√£o prontos.");
    celebrate();

    modal.style.display = "flex";
  });

  cpyReply.addEventListener("click", async ()=>{
    const ok = await copyText(replyBox.textContent);
    ok ? toast("‚úÖ Mensagem do Auto Reply copiada!") : toast("‚ùå N√£o consegui copiar. Copie manualmente.");
  });

  cpyPosts.addEventListener("click", async ()=>{
    const ok = await copyText(postsBox.textContent);
    ok ? toast("‚úÖ 3 textos copiados!") : toast("‚ùå N√£o consegui copiar. Copie manualmente.");
  });

  btnCopiarTudo.addEventListener("click", async ()=>{
    const all = `MENSAGEM AUTO REPLY:\n\n${replyBox.textContent}\n\n===========================\n\n3 TEXTOS PARA POSTAR:\n\n${postsBox.textContent}\n`;
    const ok = await copyText(all);
    ok ? toast("‚úÖ Tudo copiado (Auto Reply + 3 textos)!") : toast("‚ùå N√£o consegui copiar. Copie manualmente.");
  });

  cpyArLink.addEventListener("click", async ()=>{
    const ok = await copyText(AUTO_REPLY_PLAYSTORE);
    ok ? toast("‚úÖ Link do Auto Reply copiado!") : toast("‚ùå N√£o consegui copiar.");
  });

  closeModal.addEventListener("click", ()=>{
    modal.style.display = "none";
  });

  goAutoReply.addEventListener("click", ()=>{
    modal.style.display = "none";
    document.getElementById("autoReplyCard").scrollIntoView({behavior:"smooth", block:"start"});
    toast("üëá Aqui est√° o passo a passo do Auto Reply.");
  });

  modal.addEventListener("click", (e)=>{
    if(e.target === modal) modal.style.display = "none";
  });
</script>
</body>
</html>
